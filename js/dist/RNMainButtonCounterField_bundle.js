rndefine("#RNMainButtonCounterField",["#RNMainCore/EventManager","#RNMainFormBuilderCore/FieldWithPrice.Options","lit","#RNMainFormBuilderCore/FieldWithPrice.Model","#RNMainCore/Sanitizer","lit/decorators","#RNMainFormBuilderCore/FieldBase","#RNMainFormBuilderCore/FieldWithPrice","lit-html/directives/live.js"],(function(e,t,i,n,a,l,r,s,u){"use strict";class o extends t.FieldWithPriceOptions{LoadDefaultValues(){super.LoadDefaultValues(),this.Type="buttoncounter",this.Label="Button Counter",this.PriceType=t.PriceTypeEnum.none,this.DefaultValue=0,this.MinValue="",this.MaxValue="",this.Step=1}}class h extends n.FieldWithPriceModel{constructor(e,t){super(e,t),this.Value=0,this.MaxValue="",this.MinValue="",this.Step=1}InternalSerialize(e){super.InternalSerialize(e),e.Value=this.GetValue()}GetStoresInformation(){return!0}GetIsUsed(){return!!super.GetIsUsed()&&0!=this.Value}GetText(){return this.Value.toString()}GetValue(){return this.GetIsVisible()?this.Value:""}SetValue(e){e=a.Sanitizer.SanitizeNumber(e),""!==this.MinValue&&(e=Math.max(this.MinValue,e)),""!==this.MaxValue&&(e=Math.min(this.MaxValue,e)),this.Value=e,this.FireValueChanged()}InitializeStartingValues(){""!==this.Options.MinValue&&(this.MinValue=a.Sanitizer.SanitizeNumber(this.Options.MinValue)),""!==this.Options.MaxValue&&(this.MaxValue=a.Sanitizer.SanitizeNumber(this.Options.MaxValue)),this.Step=Math.max(1,a.Sanitizer.SanitizeNumber(this.Options.Step)),this.SetValue(this.GetPreviousDataProperty("Value",this.Options.DefaultValue))}render(){return i.html`<rn-button-counter .model="${this}"></rn-button-counter>`}}var d={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="plus",i=[],n="f067",a="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z";e.definition={prefix:"fas",iconName:t,icon:[448,512,i,n,a]},e.faPlus=e.definition,e.prefix="fas",e.iconName=t,e.width=448,e.height=512,e.ligatures=i,e.unicode=n,e.svgPathData=a}(d);var c,m={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="minus",i=[],n="f068",a="M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z";e.definition={prefix:"fas",iconName:t,icon:[448,512,i,n,a]},e.faMinus=e.definition,e.prefix="fas",e.iconName=t,e.width=448,e.height=512,e.ligatures=i,e.unicode=n,e.svgPathData=a}(m);let p=l.customElement("rn-button-counter")(c=class extends s.FieldWithPrice{static get properties(){return r.FieldBase.properties}SubRender(){return i.html` <div style="display: flex;align-items: center"> <button ?disabled="${this.model.GetValue()==this.model.MinValue&&""!==this.model.MinValue}" @click="${e=>this.model.SetValue(a.Sanitizer.SanitizeNumber(this.model.GetValue())-Math.max(1,this.model.Step))}" style="width: 30px;height: 30px;justify-content: center;align-items: center;display: flex" class="rnbtn rnbtn-light"><rn-fontawesome .icon="${m.faMinus}"></rn-fontawesome></button> <label inputmode="decimal" contenteditable="true" @blur="${e=>this.OnBlur(e)}" style="margin:0 10px;font-weight: bold;font-size: 20px;" .innerText="${u.live(this.model.GetValue())}"></label> <button ?disabled="${this.model.GetValue()==this.model.MaxValue&&""!==this.model.MaxValue}" @click="${e=>this.model.SetValue(a.Sanitizer.SanitizeNumber(this.model.GetValue())+Math.max(1,this.model.Step))}" style="width: 30px;height: 30px;justify-content: center;align-items: center;display: flex" class="rnbtn rnbtn-primary"><rn-fontawesome .icon="${d.faPlus}"></rn-fontawesome></button> </div> `}OnBlur(e){this.model.SetValue(e.target.innerText)}OnChange(e){this.model.SetValue(this.model)}})||c;exports.ButtonCounterFieldModel=h,exports.ButtonCounterField=p,exports.ButtonCounterFieldOptions=o,e.EventManager.Subscribe("GetFieldOptions",(e=>{if("buttoncounter"==e)return new o})),e.EventManager.Subscribe("GetFieldModel",(e=>{if("buttoncounter"==e.Options.Type)return new h(e.Options,e.Parent)}))}));
