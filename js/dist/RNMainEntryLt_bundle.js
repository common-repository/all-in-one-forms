rndefine("#RNMainEntryLt",["#RNMainCore/WpAjaxPost","#RNMainAlertDialog/AlertDialog","#RNMainCoreUI/ModelBase","lit/decorators","lit","#RNMainCoreUI/LitModel","#RNMainWPTable/WPTableColumn","lit/directives/ref.js","#RNMainFormBuilderCore/FormBuilder.Options","#RNMainBuilder/FormBuilderDesigner.Model","#RNMainCore/Sanitizer","#RNMainLit/Lit","#RNMainFormBuilderCore/FieldBase.Options","#RNMainNameField/NameField.Options","#RNMainCore/EventManager","#RNMainDialog/Dialog","#RNMainPreMadeDialogs/DeleteDialog","#RNMainCoreUI/ToastService","#RNMainCore/LitElementBase","#RNMainFormBuilderCore/FormBuilder.Model","#RNMainFormBuilderCore/ConditionBase.Options","#RNMainConditionDesigner/ConditionBuilder.Model","#RNMainCore/StoreBase"],(function(e,t,i,n,s,r,a,l,o,d,u,h,c,m,p,f,y,v,g,w,$,S,b){"use strict";var F={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="search",i=[],n="f002",s="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,n,s]},e.faSearch=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=n,e.svgPathData=s}(F);var x,E,_,V,T,I,D,L={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="download",i=[],n="f019",s="M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,n,s]},e.faDownload=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=n,e.svgPathData=s}(L),x=n.customElement("rn-entries"),E=n.query(".tableContainer"),x((_=class extends r.LitModel{constructor(...e){super(...e),this.Height=0,babelHelpers.initializerDefineProperty(this,"tableContainer",V,this)}static get properties(){return{model:{type:Object},IsBusy:{type:Boolean},tableIsBusy:{type:Boolean}}}render(){return null!=this.model.EntryToEdit?s.html`<rn-entry-edition .model="${this.model}"></rn-entry-edition>`:null!=this.model.EntryToView?s.html`<rn-entry-view .model="${this.model}"></rn-entry-view>`:s.html`<div class='rednao' style="padding: 20px"><fieldset style="padding: 10px;border: 1px solid #dfdfdf;border-radius: 10px;"><legend><rn-fontawesome .icon=${F.faSearch}></rn-fontawesome> Search Criteria</legend><div><rn-inputs-datepicker style="width: 150px;display: inline-block;margin-right: 5px;" .value="${this.model.StartDate}" .label="${"Start Date"}" @change="${e=>{this.model.StartDate=e.detail,this.forceUpdate()}}"></rn-inputs-datepicker><rn-inputs-datepicker style="width: 150px;display: inline-block;margin-right: 5px" .value="${this.model.EndDate}" .label="${"End Date"}" @change="${e=>{this.model.EndDate=e.detail,this.forceUpdate()}}"></rn-inputs-datepicker><rn-inputs-select style="width: 250px;display: inline-block;margin-right: 5px" .label="${"Form"}" .value="${this.model.Form}" @change="${e=>this.model.Form=e.detail}" .options="${this.model.FormList.map((e=>({Label:e.Name,Value:e.Id})))}"></rn-inputs-select><rn-spinner-button style="display: inline-block;margin-top: 18px" .isBusy=${this.model.IsBusy} @click=${()=>this.model.Search()} .addLabelMargin={true} .icon=${F.faSearch} .label="${"Search"}"></rn-spinner-button><div><a href="#" @click="${e=>{this.model.ToggleAdvancedCondition()}}">${this.model.ShowAdvanceOptions?"Hide advanced filters":"Show advanced filters"}</a></div></div></fieldset><div style="padding: 13px 0"><button ?disabled=${0==this.model.Form||null==this.model.Form} class='rnbtn rnbtn-primary' style="cursor: pointer" @click=${e=>{e.preventDefault(),this.model.Export()}}><rn-fontawesome .icon=${L.faDownload}></rn-fontawesome> Export</button></div><div class="tableContainer"><rn-wptable ${l.ref((e=>this.model.Table=e))} @applyBulkAction="${e=>this.model.ApplyBulkAction(e.detail)}" .tableIsBusy="${this.model.tableIsBusy}" .tableIsBusyMessage="${"Loading records, please wait"}" .fillAvailableWidth="${!0}" .isClickable="${!0}" .emptyText="${s.html`<p style="margin:0;padding: 0;">${this.model.SearchWasExecuted?"This form does not have any entry recorded":"Click search to see the records of a form"} </p>`}" .bulkActions="${[{Title:"Delete",Id:"Delete"}]}".set .totalNumberOfRows="${this.model.TotalNumberOfRows}" .pageSize="${this.model.PageSize}" .stickyOffset="${this.model.StickyOffset}" @pageSizeChanged="${e=>{this.model.PageIndex=0,this.model.PageSize=e.detail,this.model.InternalSearch()}}" @rowClicked="${e=>this.model.ViewItem(e)}" @actionClicked="${e=>this.model.ActionClicked(e.detail.Action,e)}" style="margin-top: 10px" .pageIndex="${this.model.PageIndex}" @pageChanged="${e=>{this.model.PageIndex=e.detail,this.model.InternalSearch(),this.forceUpdate()}}" .availableSizes="${[{Label:"30",Size:30},{Label:"60",Size:60},{Label:"90",Size:90},{Label:"150",Size:150},{Label:"250",Size:250}]}" .Data="${this.model.Data}" .Columns="${this.model.ColumnList.map(((e,t)=>new a.WPTableColumn(e.Title,"",e.Width).SetIsNumeric(e.IsNumeric).SetIsClickable(0==t).SetHasCheckbox(0==t).SetActions(0==t?[{Id:"View",Title:"View"},{Title:"Edit",Id:"Edit"},{Id:"Delete",Title:"Delete"}]:[]).AddFormatter(((t,i)=>e.Format(i)))))}"</rn-wptable> </div></div>`}},V=babelHelpers.applyDecoratedDescriptor(_.prototype,"tableContainer",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_));class C{constructor(e,t=[],i=null){this.Title=e,this.Path=t,this.FieldOptions=i,this.IsNumeric=!1,this.Width="200px",this.Parent=null,this.ValueRetriever=null,this.Selected=!1}SetValueRetriever(e){return this.ValueRetriever=e,this}SetParent(e){return this.Parent=e,this}SetWidth(e){return this.Width=e,this}SetIsNumeric(){return this.IsNumeric=!0,this}IsEmpty(e){return""==this.GetValueString(e)}GetValue(e,t=null){if(null!=this.Parent&&null==(e=this.GetChildDataSource(e.Data)))return null;let i=e;if(null!=this.FieldOptions){if(null==i.Data||!Array.isArray(i.Data))return null;if(i=i.Data.find((e=>e.Id==this.FieldOptions.Id)),null==i||u.Sanitizer.GetStringValueFromPath(this.FieldOptions,["Type"])!=i.Type)return null}if(null!=this.ValueRetriever)return this.ValueRetriever(i);if(null==t&&(t=this.Path),null==t)return i;for(let e of t){if(null==i[e])return null;i=i[e]}return i}GetValueString(e,t=null,i=""){let n=this.GetValue(e,t);return null==n?i:n.toString()}GetNumericValue(e,t=null,i=0){let n=this.GetValue(e,t);return null==n?i:(n=Number(n),isNaN(n)?i:n)}GetChildDataSource(e){let t=this.Parent,i=[t.GetId()];for(;null!=t.FormBuilder&&null!=t.FormBuilder.GetId();)t=t.FormBuilder,i.unshift(t.GetId());for(let t of i){var n;if(null==(e=null===(n=e.find((e=>e.Id==t)))||void 0===n?void 0:n.Value))return null}return{Data:e}}}class N extends C{Format(e){return s.html`<span>${this.GetValueString(e)}</span>`}}class P{static UnixToDate(e,t=0){if(null!=e){let i=new Date(1e3*(e+t));return i=new Date(i.setMinutes(i.getMinutes()+i.getTimezoneOffset())),i}return null}static DateToUnix(e,t=0){return(e.getTime()-t)/1e3+-1*e.getTimezoneOffset()*60}}class M extends C{constructor(e,t,i){super(e,t,i)}Format(e){let t=this.GetNumericValue(e);return t=P.UnixToDate(t),t.toLocaleDateString()+" "+t.toLocaleTimeString()}}class O extends C{Format(e){let t=this.GetValueString(e),i=rednaoFormDesigner.StatusList.find((e=>e.Type==t));return null!=i&&(t=i.Label),s.html`<span>${t}</span>`}}const R=globalThis,G=e=>{R.emitLitDebugLogEvents&&R.dispatchEvent(new CustomEvent("lit-debug",{detail:e}))};let k;var A;null!==(A=R.litIssuedWarnings)&&void 0!==A||(R.litIssuedWarnings=new Set),k=(e,t)=>{t+=e?` See https://lit.dev/msg/${e} for more information.`:"",R.litIssuedWarnings.has(t)||(console.warn(t),R.litIssuedWarnings.add(t))},k("dev-mode","Lit is in dev mode. Not recommended for production!");const z=(null===(T=R.ShadyDOM)||void 0===T?void 0:T.inUse)&&!0===(null===(I=R.ShadyDOM)||void 0===I?void 0:I.noPatch)?R.ShadyDOM.wrap:e=>e,B=R.trustedTypes,U=B?B.createPolicy("lit-html",{createHTML:e=>e}):void 0,j=e=>e,H=(e,t,i)=>j,W=(e,t,i)=>me(),q="$lit$",Z=`lit$${String(Math.random()).slice(9)}$`,K="?"+Z,Y=`<${K}>`,J=document,X=()=>J.createComment(""),Q=e=>null===e||"object"!=typeof e&&"function"!=typeof e,ee=Array.isArray,te="[ \t\n\f\r]",ie=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ne=/-->/g,se=/>/g,re=new RegExp(`>|${te}(?:([^\\s"'>=/]+)(${te}*=${te}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),ae=/'/g,le=/"/g,oe=/^(?:script|style|textarea|title)$/i,de=Symbol.for("lit-noChange"),ue=Symbol.for("lit-nothing"),he=new WeakMap,ce=J.createTreeWalker(J,129);let me=H;function pe(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw")){let e="invalid template strings array";throw e=" Internal Error: expected template strings to be an array with a 'raw' field. Faking a template strings array by calling html or svg like an ordinary function is effectively the same as calling unsafeHtml and can lead to major security issues, e.g. opening your code up to XSS attacks. If you're using the html or svg tagged template functions normally and still seeing this error, please file a bug at https://github.com/lit/lit/issues/new?template=bug_report.md and include information about your build tooling, if any. ".trim().replace(/\n */g,"\n"),new Error(e)}return void 0!==U?U.createHTML(t):t}class fe{constructor({strings:e,_$litType$:t},i){let n;this.parts=[];let s=0,r=0;const a=e.length-1,l=this.parts,[o,d]=((e,t)=>{const i=e.length-1,n=[];let s,r=2===t?"<svg>":"",a=ie;for(let t=0;t<i;t++){const i=e[t];let o,d,u=-1,h=0;for(;h<i.length&&(a.lastIndex=h,d=a.exec(i),null!==d);)if(h=a.lastIndex,a===ie){if("!--"===d[1])a=ne;else if(void 0!==d[1])a=se;else if(void 0!==d[2])oe.test(d[2])&&(s=new RegExp(`</${d[2]}`,"g")),a=re;else if(void 0!==d[3])throw new Error("Bindings in tag names are not supported. Please use static templates instead. See https://lit.dev/docs/templates/expressions/#static-expressions")}else if(a===re){var l;">"===d[0]?(a=null!==(l=s)&&void 0!==l?l:ie,u=-1):void 0===d[1]?u=-2:(u=a.lastIndex-d[2].length,o=d[1],a=void 0===d[3]?re:'"'===d[3]?le:ae)}else a===le||a===ae?a=re:a===ne||a===se?a=ie:(a=re,s=void 0);console.assert(-1===u||a===re||a===ae||a===le,"unexpected parse state B");const c=a===re&&e[t+1].startsWith("/>")?" ":"";r+=a===ie?i+Y:u>=0?(n.push(o),i.slice(0,u)+q+i.slice(u)+Z+c):i+Z+(-2===u?t:c)}return[pe(e,r+(e[i]||"<?>")+(2===t?"</svg>":"")),n]})(e,t);if(this.el=fe.createElement(o,i),ce.currentNode=this.el.content,2===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(n=ce.nextNode())&&l.length<a;){if(1===n.nodeType){{const e=n.localName;if(/^(?:textarea|template)$/i.test(e)&&n.innerHTML.includes(Z)){const t=`Expressions are not supported inside \`${e}\` elements. See https://lit.dev/msg/expression-in-${e} for more information.`;if("template"===e)throw new Error(t);k("",t)}}if(n.hasAttributes())for(const e of n.getAttributeNames())if(e.endsWith(q)){const t=d[r++],i=n.getAttribute(e).split(Z),a=/([.?@])?(.*)/.exec(t);l.push({type:1,index:s,name:a[2],strings:i,ctor:"."===a[1]?$e:"?"===a[1]?Se:"@"===a[1]?be:we}),n.removeAttribute(e)}else e.startsWith(Z)&&(l.push({type:6,index:s}),n.removeAttribute(e));if(oe.test(n.tagName)){const e=n.textContent.split(Z),t=e.length-1;if(t>0){n.textContent=B?B.emptyScript:"";for(let i=0;i<t;i++)n.append(e[i],X()),ce.nextNode(),l.push({type:2,index:++s});n.append(e[t],X())}}}else if(8===n.nodeType){if(n.data===K)l.push({type:2,index:s});else{let e=-1;for(;-1!==(e=n.data.indexOf(Z,e+1));)l.push({type:7,index:s}),e+=Z.length-1}}s++}if(d.length!==r)throw new Error('Detected duplicate attribute bindings. This occurs if your template has duplicate attributes on an element tag. For example "<input ?disabled=${true} ?disabled=${false}>" contains a duplicate "disabled" attribute. The error was detected in the following template: \n`'+e.join("${...}")+"`");G&&G({kind:"template prep",template:this,clonableTemplate:this.el,parts:this.parts,strings:e})}static createElement(e,t){const i=J.createElement("template");return i.innerHTML=e,i}}function ye(e,t,i=e,n){var s,r;if(t===de)return t;let a=void 0!==n?null===(s=i.__directives)||void 0===s?void 0:s[n]:i.__directive;const l=Q(t)?void 0:t._$litDirective$;var o,d,u;(null===(r=a)||void 0===r?void 0:r.constructor)!==l&&(null===(o=a)||void 0===o||null===(d=o._$notifyDirectiveConnectionChanged)||void 0===d||d.call(o,!1),void 0===l?a=void 0:(a=new l(e),a._$initialize(e,i,n)),void 0!==n?(null!==(u=i.__directives)&&void 0!==u?u:i.__directives=[])[n]=a:i.__directive=a);return void 0!==a&&(t=ye(e,a._$resolve(e,t.values),a,n)),t}class ve{constructor(e,t){this._$parts=[],this._$disconnectableChildren=void 0,this._$template=e,this._$parent=t}get parentNode(){return this._$parent.parentNode}get _$isConnected(){return this._$parent._$isConnected}_clone(e){var t;const{el:{content:i},parts:n}=this._$template,s=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:J).importNode(i,!0);ce.currentNode=s;let r=ce.nextNode(),a=0,l=0,o=n[0];for(;void 0!==o;){var d;if(a===o.index){let t;2===o.type?t=new ge(r,r.nextSibling,this,e):1===o.type?t=new o.ctor(r,o.name,o.strings,this,e):6===o.type&&(t=new Fe(r,this,e)),this._$parts.push(t),o=n[++l]}a!==(null===(d=o)||void 0===d?void 0:d.index)&&(r=ce.nextNode(),a++)}return ce.currentNode=J,s}_update(e){let t=0;for(const i of this._$parts)void 0!==i&&(G&&G({kind:"set part",part:i,value:e[t],valueIndex:t,values:e,templateInstance:this}),void 0!==i.strings?(i._$setValue(e,i,t),t+=i.strings.length-2):i._$setValue(e[t])),t++}}class ge{get _$isConnected(){var e,t;return null!==(e=null===(t=this._$parent)||void 0===t?void 0:t._$isConnected)&&void 0!==e?e:this.__isConnected}constructor(e,t,i,n){var s;this.type=2,this._$committedValue=ue,this._$disconnectableChildren=void 0,this._$startNode=e,this._$endNode=t,this._$parent=i,this.options=n,this.__isConnected=null===(s=null==n?void 0:n.isConnected)||void 0===s||s,this._textSanitizer=void 0}get parentNode(){var e;let t=z(this._$startNode).parentNode;const i=this._$parent;return void 0!==i&&11===(null===(e=t)||void 0===e?void 0:e.nodeType)&&(t=i.parentNode),t}get startNode(){return this._$startNode}get endNode(){return this._$endNode}_$setValue(e,t=this){if(null===this.parentNode)throw new Error("This `ChildPart` has no `parentNode` and therefore cannot accept a value. This likely means the element containing the part was manipulated in an unsupported way outside of Lit's control such that the part's marker nodes were ejected from DOM. For example, setting the element's `innerHTML` or `textContent` can do this.");if(e=ye(this,e,t),Q(e))e===ue||null==e||""===e?(this._$committedValue!==ue&&(G&&G({kind:"commit nothing to child",start:this._$startNode,end:this._$endNode,parent:this._$parent,options:this.options}),this._$clear()),this._$committedValue=ue):e!==this._$committedValue&&e!==de&&this._commitText(e);else if(void 0!==e._$litType$)this._commitTemplateResult(e);else if(void 0!==e.nodeType){var i;if((null===(i=this.options)||void 0===i?void 0:i.host)===e)return this._commitText("[probable mistake: rendered a template's host in itself (commonly caused by writing ${this} in a template]"),void console.warn("Attempted to render the template host",e,"inside itself. This is almost always a mistake, and in dev mode ","we render some warning text. In production however, we'll ","render it, which will usually result in an error, and sometimes ","in the element disappearing from the DOM.");this._commitNode(e)}else(e=>ee(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]))(e)?this._commitIterable(e):this._commitText(e)}_insert(e){return z(z(this._$startNode).parentNode).insertBefore(e,this._$endNode)}_commitNode(e){if(this._$committedValue!==e){if(this._$clear(),me!==H){var t;const e=null===(t=this._$startNode.parentNode)||void 0===t?void 0:t.nodeName;if("STYLE"===e||"SCRIPT"===e){let t="Forbidden";throw t="STYLE"===e?"Lit does not support binding inside style nodes. This is a security risk, as style injection attacks can exfiltrate data and spoof UIs. Consider instead using css`...` literals to compose styles, and make do dynamic styling with css custom properties, ::parts, <slot>s, and by mutating the DOM rather than stylesheets.":"Lit does not support binding inside script nodes. This is a security risk, as it could allow arbitrary code execution.",new Error(t)}}G&&G({kind:"commit node",start:this._$startNode,parent:this._$parent,value:e,options:this.options}),this._$committedValue=this._insert(e)}}_commitText(e){if(this._$committedValue!==ue&&Q(this._$committedValue)){const t=z(this._$startNode).nextSibling;void 0===this._textSanitizer&&(this._textSanitizer=W()),e=this._textSanitizer(e),G&&G({kind:"commit text",node:t,value:e,options:this.options}),t.data=e}else{const t=J.createTextNode("");this._commitNode(t),void 0===this._textSanitizer&&(this._textSanitizer=W()),e=this._textSanitizer(e),G&&G({kind:"commit text",node:t,value:e,options:this.options}),t.data=e}this._$committedValue=e}_commitTemplateResult(e){var t;const{values:i,_$litType$:n}=e,s="number"==typeof n?this._$getTemplate(e):(void 0===n.el&&(n.el=fe.createElement(pe(n.h,n.h[0]),this.options)),n);if((null===(t=this._$committedValue)||void 0===t?void 0:t._$template)===s)G&&G({kind:"template updating",template:s,instance:this._$committedValue,parts:this._$committedValue._$parts,options:this.options,values:i}),this._$committedValue._update(i);else{const e=new ve(s,this),t=e._clone(this.options);G&&G({kind:"template instantiated",template:s,instance:e,parts:e._$parts,options:this.options,fragment:t,values:i}),e._update(i),G&&G({kind:"template instantiated and updated",template:s,instance:e,parts:e._$parts,options:this.options,fragment:t,values:i}),this._commitNode(t),this._$committedValue=e}}_$getTemplate(e){let t=he.get(e.strings);return void 0===t&&he.set(e.strings,t=new fe(e)),t}_commitIterable(e){ee(this._$committedValue)||(this._$committedValue=[],this._$clear());const t=this._$committedValue;let i,n=0;for(const s of e)n===t.length?t.push(i=new ge(this._insert(X()),this._insert(X()),this,this.options)):i=t[n],i._$setValue(s),n++;n<t.length&&(this._$clear(i&&z(i._$endNode).nextSibling,n),t.length=n)}_$clear(e=z(this._$startNode).nextSibling,t){var i;for(null===(i=this._$notifyConnectionChanged)||void 0===i||i.call(this,!1,!0,t);e&&e!==this._$endNode;){const t=z(e).nextSibling;z(e).remove(),e=t}}setConnected(e){if(void 0!==this._$parent)throw new Error("part.setConnected() may only be called on a RootPart returned from render().");var t;this.__isConnected=e,null===(t=this._$notifyConnectionChanged)||void 0===t||t.call(this,e)}}class we{get tagName(){return this.element.tagName}get _$isConnected(){return this._$parent._$isConnected}constructor(e,t,i,n,s){this.type=1,this._$committedValue=ue,this._$disconnectableChildren=void 0,this.element=e,this.name=t,this._$parent=n,this.options=s,i.length>2||""!==i[0]||""!==i[1]?(this._$committedValue=new Array(i.length-1).fill(new String),this.strings=i):this._$committedValue=ue,this._sanitizer=void 0}_$setValue(e,t=this,i,n){const s=this.strings;let r=!1;if(void 0===s)e=ye(this,e,t,0),r=!Q(e)||e!==this._$committedValue&&e!==de,r&&(this._$committedValue=e);else{const n=e;let l,o;for(e=s[0],l=0;l<s.length-1;l++){if(o=ye(this,n[i+l],t,l),o===de&&(o=this._$committedValue[l]),r||(r=!Q(o)||o!==this._$committedValue[l]),o===ue)e=ue;else if(e!==ue){var a;e+=(null!==(a=o)&&void 0!==a?a:"")+s[l+1]}this._$committedValue[l]=o}}r&&!n&&this._commitValue(e)}_commitValue(e){var t,i;e===ue?z(this.element).removeAttribute(this.name):(void 0===this._sanitizer&&(this._sanitizer=me(this.element,this.name)),e=this._sanitizer(null!==(i=e)&&void 0!==i?i:""),G&&G({kind:"commit attribute",element:this.element,name:this.name,value:e,options:this.options}),z(this.element).setAttribute(this.name,null!==(t=e)&&void 0!==t?t:""))}}class $e extends we{constructor(){super(...arguments),this.type=3}_commitValue(e){void 0===this._sanitizer&&(this._sanitizer=me(this.element,this.name)),e=this._sanitizer(e),G&&G({kind:"commit property",element:this.element,name:this.name,value:e,options:this.options}),this.element[this.name]=e===ue?void 0:e}}class Se extends we{constructor(){super(...arguments),this.type=4}_commitValue(e){G&&G({kind:"commit boolean attribute",element:this.element,name:this.name,value:!(!e||e===ue),options:this.options}),z(this.element).toggleAttribute(this.name,!!e&&e!==ue)}}class be extends we{constructor(e,t,i,n,s){if(super(e,t,i,n,s),this.type=5,void 0!==this.strings)throw new Error(`A \`<${e.localName}>\` has a \`@${t}=...\` listener with invalid content. Event listeners in templates must have exactly one expression and no surrounding text.`)}_$setValue(e,t=this){var i;if((e=null!==(i=ye(this,e,t,0))&&void 0!==i?i:ue)===de)return;const n=this._$committedValue,s=e===ue&&n!==ue||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,r=e!==ue&&(n===ue||s);G&&G({kind:"commit event listener",element:this.element,name:this.name,value:e,options:this.options,removeListener:s,addListener:r,oldListener:n}),s&&this.element.removeEventListener(this.name,this,n),r&&this.element.addEventListener(this.name,this,e),this._$committedValue=e}handleEvent(e){var t,i;"function"==typeof this._$committedValue?this._$committedValue.call(null!==(t=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==t?t:this.element,e):this._$committedValue.handleEvent(e)}}class Fe{constructor(e,t,i){this.element=e,this.type=6,this._$disconnectableChildren=void 0,this._$parent=t,this.options=i}get _$isConnected(){return this._$parent._$isConnected}_$setValue(e){G&&G({kind:"commit to element binding",element:this.element,value:e,options:this.options}),ye(this,e)}}const xe=R.litHtmlPolyfillSupportDevMode;null==xe||xe(fe,ge),(null!==(D=R.litHtmlVersions)&&void 0!==D?D:R.litHtmlVersions=[]).push("3.1.2"),R.litHtmlVersions.length>1&&k("multiple-versions","Multiple versions of Lit loaded. Loading multiple versions is not recommended.");const Ee=2;class _e{constructor(e){}get _$isConnected(){return this._$parent._$isConnected}_$initialize(e,t,i){this.__part=e,this._$parent=t,this.__attributeIndex=i}_$resolve(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}class Ve extends _e{constructor(e){if(super(e),this._value=ue,e.type!==Ee)throw new Error(`${this.constructor.directiveName}() can only be used in child bindings`)}render(e){if(e===ue||null==e)return this._templateResult=void 0,this._value=e;if(e===de)return e;if("string"!=typeof e)throw new Error(`${this.constructor.directiveName}() called with a non-string value`);if(e===this._value)return this._templateResult;this._value=e;const t=[e];return t.raw=t,this._templateResult={_$litType$:this.constructor.resultType,strings:t,values:[]}}}Ve.directiveName="unsafeHTML",Ve.resultType=1;const Te=(Ie=Ve,(...e)=>({_$litDirective$:Ie,values:e}));var Ie;class De{constructor(e){this.FormBuilderModel=e,this.Meta=[]}GetFieldValueById(e){for(let t of this.Data)if(t.Id==e)return t;return null}Load(e){return this.Meta=[],this.FormId=e.FormId,this.EntryId=e.EntryId,this.Sequence=e.Sequence,this.UnixDate=e.UnixDate,this.Status=e.Status,this.Total=e.Total,this.UserId=e.UserId,this.UserName=e.UserName,this.UserEmail=e.UserEmail,this.Selected=!1,this.ReferenceId=e.ReferenceId,this.FormattedSequence=e.FormattedSequence,this.Data=e.Data,this.EditNonce=e.EditNonce,this.LoadMeta(e.Meta),this}LoadMeta(e){e.forEach((e=>{let t=new Le;t.DataType=e.DataType,t.EntryId=e.EntryId,t.IsVisible=e.IsVisible,t.MetaName=e.MetaName,t.MetaValue=e.MetaValue,t.DisplayLabel=e.DisplayLabel,t.DisplayValue=e.DisplayValue,this.Meta.push(t)}))}GetMetaValueByName(e,t=null){let i=this.Meta.find((t=>t.MetaName==e));return null==i?t:i.MetaValue}}class Le{GetLabel(){return null!=this.DisplayLabel&&""!=this.DisplayLabel?this.DisplayLabel:this.MetaName}GetValue(){return null!=this.DisplayValue&&""!=this.DisplayValue.trim()?Te(this.DisplayValue):this.MetaValue}}class Ce extends C{Format(e){return s.html`<span>${this.GetValueString(e)}</span>`}}class Ne extends C{Format(e){let t=this.GetValueString(e,null,"");return""==t?null:s.html` <div> <div style="display: inline-block;width: 10px;height: 10px;background-color: ${t}"> </div> <span style="margin-left: 3px">${t}</span> </div> `}}class Pe{static GetDownloadLink(e,t,i){let n=t+"__"+i;return e.ajaxurl+"?action="+e._prefix+"_getpublicfileupload&ref="+encodeURI(n)}}class Me extends C{Format(e){let t=this.GetValue(e,"");return null==t?null:s.html` <img style="width: 100%" .src=${Pe.GetDownloadLink(rednaoFormDesigner,t.FileId,t.FileReference)}/> `}}class Oe extends C{Format(e){let t=this.GetValue(e);return null==t?null:s.html` <ul style="display: inline-block;margin: 0;"> ${t.map(((e,t)=>s.html` <li style="margin:0;margin-left: ${t>0?"10px":"0"}"> <div style="display: inline-block;width: 10px;background-color: ${e.Color}"> </div> <span style="margin-left: 3px;">${e.Label}</span> </li> `))} </ul> `}}class Re extends C{Format(e){let t=this.GetValue(e,["Value","Texts"]);return null==t?null:s.html` <div> ${t.map((e=>s.html` <div> ${h.rnIf(""!=e.Label&&s.html`<strong>${e.Label}: </strong>`)} ${e.Value} </div> `))} </div> `}}class Ge extends C{Format(e){let t=this.GetValue(e);if(null==t)return null;let i=t.Value,n=t.Columns;return s.html` <ul style="margin: 0;padding: 0;"> ${i.map(((e,t)=>this.GenerateItemsOfRow(i[t].Columns,n,t)))} </ul> `}GenerateItemsOfRow(e,t,i){return e.map(((e,n)=>s.html` <li><strong>${t.length>n?t[n].Name+" ":""}#${i+1}: </strong>${e}</li> `))}}class ke{static GetDownloadLink(e,t,i){let n=t+"__"+i;return e.ajaxurl+"?action="+e._prefix+"_getpublicfileupload&ref="+encodeURI(n)}}class Ae extends C{Format(e){let t=this.GetValue(e,["Value"]);return null==t?null:s.html` <div> ${t.map((e=>s.html` <div> ${e.Mime.indexOf("image")>=0?s.html`<img style="max-width: 100%;" src="${ke.GetDownloadLink(rednaoFormDesigner,e.FileId,e.FileReference)}"/>`:s.html`<a target="{'blank'}" href="${ke.GetDownloadLink(rednaoFormDesigner,e.FileId,e.FileReference)}">${e.Name}</a>`} </div> `))} </div> `}}class ze extends C{Format(e){let t=this.GetValue(e);return null==t?null:s.html` <ul style="margin: 0"> ${t.map((e=>s.html` <li style="display: flex;align-items: center;">${h.rnIf(""!=e.Icon.Ref.URL&&s.html`<img style="max-width: 100px;" src=${e.Icon.Ref.URL}/> <span style="margin-left: 5px">${e.Label}</span></li>`)} `))} </ul> `}}class Be extends C{Format(e){let t=this.GetValue(e);return null==t?null:s.html`<span>${t.map((e=>e.Label)).join(", ")}</span>`}}class Ue extends C{constructor(e,t,i,n){super(e,t,i),n.CreateRepeaterItem(),this.Fields=n.Rows[0].Columns[0].Field.GetFields(!1,!1,!0),this.FieldColumns=[];for(let e of this.Fields){var s;null===(s=Ze.GetFormatterByField(e))||void 0===s||s.forEach((e=>this.FieldColumns.push(e)))}}Format(e){let t=this.GetValue(e,null);if(this.Fields=[],this.Fields.forEach((e=>Ze.GetFormatterByField(e).forEach((e=>this.FieldColumns.push(e))))),null==t)return null;let i=t.Value;return this.GetRepeaterFields(),s.html` <div> ${i.map(((e,t)=>s.html` <fieldset style="border: 1px solid #dfdfdf;padding: 5px;margin-bottom: 5px;width: 100%;box-sizing: border-box;"> <legend>${RNTranslate("Row # ")+(Number(t)+1)}</legend> <strong style="display: block""></strong> ${this.FieldColumns.map((t=>s.html` <div> ${h.rnIf(""!=t.FieldOptions.Label&&s.html` <strong style="display: block">${t.FieldOptions.Label}</strong>`)} ${t.Format({Data:e.Value})} </div> `))} </fieldset> `))} </div> `}GetRepeaterFields(){}}class je extends C{Format(e){let t=this.GetValueString(e);return s.html`<div>${Te(t)}</div>`}}var He={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="check",i=[],n="f00c",s="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,n,s]},e.faCheck=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=n,e.svgPathData=s}(He);class We extends C{Format(e){return 1==this.GetValue(e)?s.html`<rn-fontawesome .icon="${He.faCheck}"></rn-fontawesome>`:null}}class qe extends C{constructor(e,t,i){super(e,[],t),this.format=i}Format(e){return this.format(e,this.GetValue(e))}}p.EventManager.Subscribe("CreateEntryColumn",(e=>{if("DynamicStringColumn"==e.Type)return new qe(e.Title,e.FieldOptions,e.Format)}));class Ze{static GetFormatterByField(e){switch(e.Options.Type){case c.FieldTypeEnum.Text:case c.FieldTypeEnum.Numeric:case c.FieldTypeEnum.TextArea:case c.FieldTypeEnum.Email:case c.FieldTypeEnum.Datepicker:case c.FieldTypeEnum.Masked:case c.FieldTypeEnum.Slider:case c.FieldTypeEnum.Hidden:case c.FieldTypeEnum.Total:case"rating":case"website":case"buttoncounter":return[new Ce(e.Options.Label,["Value"],e.Options)];case c.FieldTypeEnum.ColorSwatcher:return[new Oe(e.Options.Label,["SelectedValues"],e.Options)];case c.FieldTypeEnum.DateRange:return[new Ce(e.Options.StartDate.Label,["Value","StartValue"],e.Options),new Ce(e.Options.EndDate.Label,["Value","EndValue"],e.Options)];case c.FieldTypeEnum.DropDown:case c.FieldTypeEnum.Checkbox:case c.FieldTypeEnum.Radio:case c.FieldTypeEnum.ButtonSelection:case"popupselectorfield":return[new Be(e.Options.Label,["SelectedValues"],e.Options)];case c.FieldTypeEnum.ImagePicker:return[new ze(e.Options.Label,["SelectedValues"],e.Options)];case c.FieldTypeEnum.Name:return Ze.GetNameColumn(e.Options);case c.FieldTypeEnum.Address:return Ze.GetAddressColumn(e.Options);case c.FieldTypeEnum.ColorPicker:return[new Ne(e.Options.Label,["Value"],e.Options)];case c.FieldTypeEnum.Signature:return[new Me(e.Options.Label,["Value"],e.Options)];case c.FieldTypeEnum.TextualImage:return[new Re(e.Options.Label,null,e.Options)];case c.FieldTypeEnum.List:return[new Ge(e.Options.Label,null,e.Options)];case c.FieldTypeEnum.FileUpload:return[new Ae(e.Options.Label,null,e.Options)];case c.FieldTypeEnum.GroupPanel:return Ze.GetGroupPanel(e);case c.FieldTypeEnum.Repeater:return[new Ue(e.Options.Label,null,e.Options,e)];case c.FieldTypeEnum.Survey:return Ze.GetSurveyColumn(e.Options);case c.FieldTypeEnum.FloatPanel:return Ze.GetGroupPanel(e);case c.FieldTypeEnum.SimpleText:return[new je(e.Options.Label,["Value","HTML"],e.Options)];case c.FieldTypeEnum.Switch:return[new We(e.Options.Label,["Value"],e.Options)];case c.FieldTypeEnum.GoogleMaps:return Ze.GetGoogleMapsColumn(e.Options);case"chained":return Ze.GetChainedColumn(e);default:return p.EventManager.Publish("GetFieldColumns",e,[])}return[]}static GetGoogleMapsColumn(e){let t=[];return t.push(new qe(e.Address1Label,e,((e,t)=>{let i=u.Sanitizer.GetValueFromPath(t,["Value","Markers"],[]),n=[];return i.forEach((e=>{let t=u.Sanitizer.GetStringValueFromPath(e,["Address","StreetAddress1"]);""!=t&&n.push(t)})),n.join(" | ")}))),e.ShowAddress2&&t.push(new qe(e.Address2Label,e,((e,t)=>{let i=u.Sanitizer.GetValueFromPath(t,["Value","Markers"],[]),n=[];return i.forEach((e=>{let t=u.Sanitizer.GetStringValueFromPath(e,["Address","StreetAddress2"]);""!=t&&n.push(t)})),n.join(" | ")}))),e.ShowCity&&t.push(new qe(e.CityLabel,e,((e,t)=>{let i=u.Sanitizer.GetValueFromPath(t,["Value","Markers"],[]),n=[];return i.forEach((e=>{let t=u.Sanitizer.GetStringValueFromPath(e,["Address","City"]);""!=t&&n.push(t)})),n.join(" | ")}))),e.ShowState&&t.push(new qe(e.StateLabel,e,((e,t)=>{let i=u.Sanitizer.GetValueFromPath(t,["Value","Markers"],[]),n=[];return i.forEach((e=>{let t=u.Sanitizer.GetStringValueFromPath(e,["Address","State"]);""!=t&&n.push(t)})),n.join(" | ")}))),e.ShowZip&&t.push(new qe(e.ZipLabel,e,((e,t)=>{let i=u.Sanitizer.GetValueFromPath(t,["Value","Markers"],[]),n=[];return i.forEach((e=>{let t=u.Sanitizer.GetStringValueFromPath(e,["Address","Zip"]);""!=t&&n.push(t)})),n.join(" | ")}))),e.ShowCountry&&t.push(new qe(e.CountryLabel,e,((e,t)=>{let i=u.Sanitizer.GetValueFromPath(t,["Value","Markers"],[]),n=[];return i.forEach((e=>{let t=u.Sanitizer.GetStringValueFromPath(e,["Address","CountryLong"]);""!=t&&n.push(t)})),n.join(" | ")}))),e.ShowMap&&t.push(new qe("Map",e,((e,t)=>s.html`<img style="max-width: 100%;" src="${Pe.GetDownloadLink(rednaoFormDesigner,u.Sanitizer.GetStringValueFromPath(t,["Value","FileId"]),u.Sanitizer.GetStringValueFromPath(t,["Value","FileReference"]))}"/>`))),t}static GetNameColumn(e){return e.Format==m.NameFormatEnum.Single?[new Ce(e.FirstNameLabel,["Value","Name"],e)]:[new Ce(e.FirstNameLabel,["Value","FirstName"],e),new Ce(e.LastNameLabel,["Value","LastName"],e)]}static GetAddressColumn(e){let t=[];return t.push(new Ce(e.Address1Label,["Value","Address1"],e)),e.ShowAddress2&&t.push(new Ce(e.Address2Label,["Value","Address2"],e)),e.ShowCity&&t.push(new Ce(e.CityLabel,["Value","City"],e)),e.ShowState&&t.push(new Ce(e.StateLabel,["Value","State"],e)),e.ShowZip&&t.push(new Ce(e.ZipLabel,["Value","Zip"],e)),e.ShowCountry&&t.push(new Ce(e.CountryLabel,["Value","Country"],e)),t}static GetSurveyColumn(e){let t=[];for(let i of e.Rows)t.push(new Ce(i.Label,null,e).SetValueRetriever((e=>{let t=e.SelectedValues.filter((e=>e.Row.Id==i.Id));return 0==t.length?"":t.map((e=>e.Column.Label)).join(", ")})));return t}static GetGroupPanel(e){let t=[];return e.GetFields(!1,!1,!0).filter((e=>e.GetStoresInformation()&&!e.IsFieldContainer)).forEach((e=>{var i;null===(i=Ze.GetFormatterByField(e))||void 0===i||i.forEach((i=>{i.Parent=e.FormBuilder,t.push(i)}))})),t}static GetChainedColumn(e){let t=[];for(let i of e.Options.Columns){let n=i;t.push(new Ce(i,null,e.Options).SetValueRetriever((t=>{let i=null==t?void 0:t.Value;null==i&&(i=[]);let s=e.Options.Columns.indexOf(n);return s<0||null==i[s]?"":i[s]})))}return t}}var Ke={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="arrow-left",i=[],n="f060",s="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z";e.definition={prefix:"fas",iconName:t,icon:[448,512,i,n,s]},e.faArrowLeft=e.definition,e.prefix="fas",e.iconName=t,e.width=448,e.height=512,e.ligatures=i,e.unicode=n,e.svgPathData=s}(Ke);var Ye={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=[],i="f084",n="M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z";e.definition={prefix:"fas",iconName:"key",icon:[512,512,t,i,n]},e.faKey=e.definition,e.prefix="fas",e.iconName="key",e.width=512,e.height=512,e.ligatures=t,e.unicode=i,e.svgPathData=n}(Ye);var Je={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="calendar",i=[],n="f133",s="M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z";e.definition={prefix:"far",iconName:t,icon:[448,512,i,n,s]},e.faCalendar=e.definition,e.prefix="far",e.iconName=t,e.width=448,e.height=512,e.ligatures=i,e.unicode=n,e.svgPathData=s}(Je);var Xe={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="user",i=[],n="f007",s="M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z";e.definition={prefix:"far",iconName:t,icon:[448,512,i,n,s]},e.faUser=e.definition,e.prefix="far",e.iconName=t,e.width=448,e.height=512,e.ligatures=i,e.unicode=n,e.svgPathData=s}(Xe);var Qe={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=[],i="f02b",n="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z";e.definition={prefix:"fas",iconName:"tag",icon:[512,512,t,i,n]},e.faTag=e.definition,e.prefix="fas",e.iconName="tag",e.width=512,e.height=512,e.ligatures=t,e.unicode=i,e.svgPathData=n}(Qe);var et={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="print",i=[],n="f02f",s="M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,n,s]},e.faPrint=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=n,e.svgPathData=s}(et);var tt={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="spinner",i=[],n="f110",s="M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,n,s]},e.faSpinner=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=n,e.svgPathData=s}(tt),n.customElement("rn-entry-view")(class extends g.LitElementBase{constructor(...e){super(...e),this.AdditionalActionsContent=null,this.Sections=null,this.IsLoadingActions=!1}static get properties(){return{}}render(){var e;return s.html` <div style="padding: 10px" class="rednao"> <button @click="${e=>{e.preventDefault(),this.model.EntryToView=null,this.model.Refresh()}}" style="margin-bottom: 5px;display: inline-flex;align-items: center;" class="rnbtn rnbtn-primary"><rn-fontawesome .icon="${Ke.faArrowLeft}" style="margin-right: 3px"></rn-fontawesome>Back</button> <div style="background-color: white;padding: 15px"> <h1 style="margin-right: 5px;display: inline-block;">Viewing entry ${this.model.EntryToView.FormattedSequence}</h1> <span style="font-style: italic">(From ${null===(e=this.model.FormList.find((e=>e.Id==this.model.FormToUse)))||void 0===e?void 0:e.Name})</span> </div> <div> <div class="fields" style="border: 1px solid #ccc;"> ${this.model.ColumnList.filter((e=>!e.IsEmpty(this.model.EntryToView)&&null==e.FieldOptions&&null!=e.Path&&["FormattedSequence","UnixDate"].indexOf(e.Path[0])>=0)).map((e=>s.html` <div class="printOnly"> <div class="entryViewTitle"> ${e.Title} </div> <div class="entryViewValue"> ${e.Format(this.model.EntryToView)} </div> </div> `))} ${this.model.ColumnList.filter((e=>!e.IsEmpty(this.model.EntryToView)&&null!=e.FieldOptions)).map((e=>s.html` <div> <div class="entryViewTitle"> ${e.Title} </div> <div class="entryViewValue"> ${e.Format(this.model.EntryToView)} </div> </div> `))} ${this.model.ColumnList.filter((e=>!e.IsEmpty(this.model.EntryToView)&&null==e.FieldOptions&&null!=e.Path&&["Status","UserName"].indexOf(e.Path[0])>=0)).map((e=>s.html` <div class="printOnly"> <div class="entryViewTitle"> ${e.Title} </div> <div class="entryViewValue"> ${e.Format(this.model.EntryToView)} </div> </div> `))} </div> <div class="sidebar"> <div style="font-weight: bold;background-color: white;border: 1px solid #ccc;"> <div style="border-bottom: 1px solid #ccc;"> <div style="padding: 10px"> Entry Details </div> </div> <div style="padding: 10px"> <rn-entry-detail-item .model="${this.model}" .icon="${Ye.faKey}" .data="${this.model.EntryToView}" .propertyName="${"FormattedSequence"}"></rn-entry-detail-item> <rn-entry-detail-item .model="${this.model}" .icon="${Je.faCalendar}" .data="${this.model.EntryToView}" .propertyName="${"UnixDate"}"></rn-entry-detail-item> <rn-entry-detail-item .model="${this.model}" .icon="${Qe.faTag}" .data="${this.model.EntryToView}" .propertyName="${"Status"}"></rn-entry-detail-item> <rn-entry-detail-item .model="${this.model}" .icon="${Xe.faUser}" .data="${this.model.EntryToView}" .propertyName="${"UserName"}"></rn-entry-detail-item> <rn-meta-value-displayer .MetaValues="${this.model.EntryToView.Meta}"></rn-meta-value-displayer> </div> </div><div class="entryPanel"><div class="entryPanelTitle">Actions${h.rnIf(null===this.AdditionalActionsContent&&s.html`<div title="Checking for additional actions for entry"><rn-fontawesome .icon="${tt.faSpinner}" spin></rn-fontawesome></div>`)}</div><div class="entryPanelContent"><div class="actionItem"><rn-fontawesome style="margin-right: 4px" .icon="${et.faPrint}"></rn-fontawesome><a href="#" @click="${e=>{e.preventDefault(),window.print()}}">Print</a></div><div>${h.rnIf(null!=this.AdditionalActionsContent&&Te(this.AdditionalActionsContent))}</div></div></div>${h.rnIf(null!=this.Sections&&Te(this.Sections))} </div> </div> </div> `}firstUpdated(e){super.firstUpdated(e),this.LoadAdditionalActions()}updated(e){super.updated(e),this.IsLoadingActions&&(this.IsLoadingActions=!1,p.EventManager.Publish("EntryActionsLoaded"))}async LoadAdditionalActions(){let t=await e.WpAjaxPost.Post("get_entry_actions",{EntryId:this.model.EntryToView.EntryId,FormId:this.model.FormToUse});null!=t?(null!=t.Content&&(this.AdditionalActionsContent=t.Content),null!=t.Sections&&(this.Sections=t.Sections),null==t.Sections&&null==t.Content||(this.IsLoadingActions=!0)):this.AdditionalActionsContent='<div style="color: red;">Error loading actions</div>',this.forceUpdate()}});class it extends w.FormBuilderModel{get IsEntry(){return!0}async Save(){let e=await super.Save();null!=e&&null!=e.EntryId&&p.EventManager.Publish("EntryEdited",e)}async MaybeExecuteAConfirmation(e){await f.Dialog.Show(s.html` <rn-result-dialog .content="${""}" .title="${"Entry edited successfully"}" .buttonText="${"Done"}" .iconType="${e.Action.IconType}"></rn-result-dialog>`)}}var nt={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="pencil-alt",i=[],n="f303",s="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,n,s]},e.faPencilAlt=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=n,e.svgPathData=s}(nt);var st={};function rt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function at(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(i),!0).forEach((function(t){babelHelpers.defineProperty(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):rt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="save",i=[],n="f0c7",s="M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z";e.definition={prefix:"fas",iconName:t,icon:[448,512,i,n,s]},e.faSave=e.definition,e.prefix="fas",e.iconName=t,e.width=448,e.height=512,e.ligatures=i,e.unicode=n,e.svgPathData=s}(st),n.customElement("rn-entry-detail-item")(class extends g.LitElementBase{constructor(){super(),this.icon=null,this.IsEditing=!1,this.currentEditValue="",this.LoadUsers=this.LoadUsers.bind(this)}static get properties(){return{}}render(){let e=this.model.ColumnList.find((e=>null!=e.Path&&e.Path[0]==this.propertyName));return null==e?null:s.html` <div class="actionItem" style="margin-bottom: 10px;display: flex;align-items: center;"> <rn-fontawesome style="color:#bbb;margin-right: 4px;" .icon="${this.icon}"></rn-fontawesome> <strong style="margin-right: 5px;white-space: nowrap">${e.Title}</strong> <div style="width: 100%"> ${this.GetControl(e)} </div> </div> `}Edit(){f.Dialog.Show(s.html`<rn-license-required .message=${"This feature is only available in the full version"}></rn-license-required>`)}async LoadUsers(t,i){i(await e.WpAjaxPost.Post("query_users",{query:t}))}GetControl(e){if(this.IsEditing)switch(this.propertyName){case"FormattedSequence":return s.html`<div style="display: flex;"><rn-inputs-text style="margin:0" .marginBottom="${0}" @change="${e=>{this.currentEditValue=e.detail}}" .value="${this.currentEditValue}"></rn-inputs-text>${this.GetSaveButton()} </div>`;case"Status":return s.html` <div style="display: flex;"> <rn-inputs-select style="width:100%;margin: 0;" .marginBottom="${0}" @change="${e=>{this.currentEditValue=e.detail}}" .value="${this.currentEditValue}" .options="${rednaoFormDesigner.StatusList.map((e=>({Label:e.Label,Value:e.Type})))}"></rn-inputs-select> ${this.GetSaveButton()} </div>`;case"UnixDate":return s.html` <div style="display: flex;"> <rn-inputs-datepicker .enableTime="${!0}" style="width:100%;margin: 0;" .marginBottom="${0}" @change="${e=>{this.currentEditValue=e.detail}}" .value="${this.currentEditValue}" .options="${rednaoFormDesigner.StatusList.map((e=>({Label:e.Label,Value:e.Type})))}"></rn-inputs-datepicker> ${this.GetSaveButton()} </div>`;case"UserName":return s.html` <div style="display: flex;"> <rn-inputs-select .load="${this.LoadUsers}" style="width:100%;margin:0;" .marginBottom="${0}" @change="${e=>{this.currentEditValue=e.detail}}" .value="${this.currentEditValue}"></rn-inputs-select> ${this.GetSaveButton()} </div>`}return s.html`<div> <span>${e.Format(this.data)}</span> <rn-fontawesome @click="${e=>{this.Edit()}}" class="actionIcon" style="margin-left: 5px;cursor: pointer;" .icon="${nt.faPencilAlt}"></rn-fontawesome></div>`}GetSaveButton(){return s.html` <button @click="${e=>{this.Save()}}" style="display: inline-block;align-items: center;justify-content: center;" class="rnbtn rnbtn-success"><rn-fontawesome .spin="${this.IsSaving}" .icon="${this.IsSaving?tt.faSpinner:st.faSave}"></rn-fontawesome></button>`}async Save(){this.IsSaving=!0,this.forceUpdate();let t="";switch(this.propertyName){case"FormattedSequence":t="_formatted_sequence";break;case"Status":t="_status";break;case"UnixDate":t="_date";break;case"UserName":t="_created_by"}let i=await e.WpAjaxPost.Post("update_field",{Nonce:this.data.EditNonce,EntryId:this.data.EntryId,FieldId:t,Value:this.currentEditValue});null!=i&&("_created_by"==t?(this.data.UserName=i.UserName,this.data.UserEmail=i.UserEmail,this.data.UserId=i.UserId):this.data[this.propertyName]=i,v.ToastService.SendSuccess("Field updated successfully")),this.IsSaving=!1,this.IsEditing=!1,this.model.Refresh()}}),n.customElement("rn-entry-edition")(class extends g.LitElementBase{constructor(...e){super(...e),this.FormBuilderModel=null}static get properties(){return{}}render(){var e;return s.html` <div style="padding: 10px" class="rednao"> <button @click="${e=>{e.preventDefault(),this.model.EntryToEdit=null,this.model.Refresh()}}" style="margin-bottom: 5px;display: inline-flex;align-items: center;" class="rnbtn rnbtn-primary"><rn-fontawesome .icon="${Ke.faArrowLeft}" style="margin-right: 3px"></rn-fontawesome>Back</button> <div style="background-color: white;padding: 15px"> <h1 style="margin-right: 5px;display: inline-block;">Edit entry ${this.model.EntryToEdit.FormattedSequence}</h1> <span style="font-style: italic">(From ${null===(e=this.model.FormList.find((e=>e.Id==this.model.FormToUse)))||void 0===e?void 0:e.Name})</span> </div> <div> <div class="fields" style="border: 1px solid #ccc;background-color: white;padding: 10px;"> ${this.GetEntryContent()} </div> <div class="sidebar"> <div style="font-weight: bold;background-color: white;border: 1px solid #ccc;"> <div style="border-bottom: 1px solid #ccc;"> <div style="padding: 10px"> Entry Details </div> </div> <div style="padding: 10px"> <rn-entry-detail-item .model="${this.model}" .icon="${Ye.faKey}" .data="${this.model.EntryToEdit}" .propertyName="${"FormattedSequence"}"></rn-entry-detail-item> <rn-entry-detail-item .model="${this.model}" .icon="${Je.faCalendar}" .data="${this.model.EntryToEdit}" .propertyName="${"UnixDate"}"></rn-entry-detail-item> <rn-entry-detail-item .model="${this.model}" .icon="${Qe.faTag}" .data="${this.model.EntryToEdit}" .propertyName="${"Status"}"></rn-entry-detail-item> <rn-entry-detail-item .model="${this.model}" .icon="${Xe.faUser}" .data="${this.model.EntryToEdit}" .propertyName="${"UserName"}"></rn-entry-detail-item> <rn-meta-value-displayer .MetaValues="${this.model.EntryToEdit.Meta}"></rn-meta-value-displayer> </div> </div> </div> </div> </div> `}PrepareForEdition(e){return this.PrepareRows(e.Rows),e}PrepareRows(e){for(let t of e)for(let e of t.Columns)1==e.Field.ReadOnly&&(e.Field.ReadOnly=!1),e.Field.Type==c.FieldTypeEnum.Repeater&&(e.Field.RepeaterType="add_remove_button",this.PrepareRows(e.Field.RepeaterItemTemplate.Rows)),null!=e.Field.Rows&&e.Field.IsFieldContainer&&this.PrepareRows(e.Field.Rows)}GetEntryContent(){return null==this.FormBuilderModel?s.html`<div style="padding: 20px;display: flex;align-items: center;font-size: 20px"><rn-fontawesome .icon="${tt.faSpinner}" .spin="${!0}"></rn-fontawesome><span style="margin-left: 5px">Loading form...</span></div>`:this.FormBuilderModel.render()}firstUpdated(e){null==this.FormBuilderModel&&this.InitializeModel(),super.firstUpdated(e)}InitializeModel(){if(null==this.FormBuilderModel)if(this.model.FormExtra.has(this.model.EntryToEdit.FormId)){let e=this.model.FormList.find((e=>e.Id==this.model.EntryToEdit.FormId));this.FormBuilderModel=new it(e.FormBuilder.FormId,this.PrepareForEdition((new o.FormBuilderOptions).Merge(e.FormBuilder.Options.ToObject())),{SubmitNonce:e.SubmitNonce,PreviousData:at({},this.model.EntryToEdit,{Fields:this.model.EntryToEdit.Data}),GoogleMapsApiKey:rednaoFormDesigner.GoogleMapsApiKey,Extra:this.model.FormExtra.get(this.model.EntryToEdit.FormId),URL:rednaoFormDesigner.CoreURL}),this.FormBuilderModel.Initialize(),this.FormBuilderModel.ExecuteFirstCalculation()}else this.LoadForm();this.forceUpdate()}async LoadForm(){let t=await e.WpAjaxPost.Post("get_extra_options",{formId:this.model.EntryToEdit.FormId});null!=t&&(this.model.FormExtra.set(this.model.EntryToEdit.FormId,t),this.forceUpdate()),this.InitializeModel()}});class lt extends i.ModelBase{constructor(e){super(e),this.EntryToView=null,this.StickyOffset=0,this.ShowAdvanceOptions=!1,this.StickyLeft=0,this.tableIsBusy=!1,this.Data=[],this.PageSize=60,this.PageIndex=0,this.StartDate=0,this.EndDate=0,this.Form=0,this.InitialScrollLeft=0,this.InitialScrollTop=0,this.TotalNumberOfRows=0,this.SearchWasExecuted=!1,this.AdvancedOptionsCondition=null,this.StartDateToUse=0,this.EndDateToUse=0,this.FormToUse=0,this.EntryIds=[],this.ColumnList=[],this.FormExtra=new Map,this.FormOptions=new Map,this.SerializeForms(),this.ConditionBuilder=new S.ConditionBuilderModel,null!=rednaoFormDesigner.ViewEntry&&(this.EntryToView=rednaoFormDesigner.ViewEntry,this.SetSelectedForm(this.EntryToView.FormId),this.FormToUse=this.EntryToView.FormId),p.EventManager.Subscribe("EntryEdited",this.EntryEdited.bind(this))}EntryEdited(e){let t=this.Data.find((t=>t.EntryId==e.EntryId));null!=t&&(t.Data=e.Data),this.Refresh()}render(){return s.html`<rn-entries .model="${this}"></rn-entries>`}SerializeForms(){this.FormList=[];for(let e of rednaoFormDesigner.FormList){let t=JSON.parse(e.client_form_options);t.Icons=JSON.parse(e.icons);let i=new d.FormBuilderDesignerModel(e.form_id,(new o.FormBuilderOptions).Merge({Rows:JSON.parse(e.element_options),ClientOptions:t}),null);this.FormList.push({Id:e.form_id,Name:e.form_name,FormBuilder:i,SubmitNonce:e.SubmitNonce}),this.GenerateFields(i)}this.FormList.length>0&&(this.Form=this.FormList[0].Id)}async InternalSearch(){var t;if(0==this.FormToUse)return;this.tableIsBusy=!0,this.Refresh();let i=await e.WpAjaxPost.Post("search_entries",{Form:this.Form,StartDate:this.StartDate,EndDate:this.EndDate,PageIndex:this.PageIndex,PageSize:this.PageSize,FilterCondition:null===(t=this.AdvancedOptionsCondition)||void 0===t?void 0:t.ToObject()});if(this.tableIsBusy=!1,null!=i){if(this.UpdateURL(),this.SetSelectedForm(this.Form),this.Data=[],i.Rows.forEach((e=>this.Data.push(new De(this.CurrentForm).Load(e)))),this.TotalNumberOfRows=i.Count,0==this.Data.length&&i.Count>0&&this.PageIndex>=1)return this.PageIndex=Math.floor(i.Count/this.PageSize),this.InternalSearch();this.Refresh((()=>{0==this.InitialScrollLeft&&0==this.InitialScrollTop||(window.scrollTo(this.InitialScrollLeft,this.InitialScrollTop),this.InitialScrollLeft=0,this.InitialScrollTop=0)}))}}FormatDateForURL(e){let t=P.UnixToDate(e);return t.getFullYear()+"."+(t.getMonth()+1)+"."+t.getDate()}UpdateURL(){let e=new URL(window.location.href);this.StartDateToUse>0?e.searchParams.set("StartDate",this.FormatDateForURL(this.StartDateToUse)):e.searchParams.delete("StartDate"),this.EndDateToUse>0?e.searchParams.set("EndDate",this.FormatDateForURL(this.EndDateToUse)):e.searchParams.delete("EndDate"),this.FormToUse>0?e.searchParams.set("Form",this.FormToUse.toString()):e.searchParams.delete("Form"),this.PageIndex>0?e.searchParams.set("PageIndex",this.PageIndex.toString()):e.searchParams.delete("PageIndex"),this.PageSize>0?e.searchParams.set("PageSize",this.PageSize.toString()):e.searchParams.delete("PageSize"),this.PageIndex>0?e.searchParams.set("PageIndex",this.PageIndex.toString()):e.searchParams.delete("PageIndex"),this.InitialScrollLeft>0?e.searchParams.set("ScrollLeft",this.InitialScrollLeft.toString()):e.searchParams.delete("ScrollLeft"),this.InitialScrollTop>0?e.searchParams.set("ScrollTop",this.InitialScrollTop.toString()):e.searchParams.delete("ScrollTop"),window.history.replaceState({View:"Entries"},document.title,e.toString())}async DeleteSelected(){let e=this.Table.SelectedRows;0!=e.length&&await y.DeleteDialog.Show("Deleting "+e.length+" Items","This operation is not reversible",(async()=>await this.DeleteItems(e.map((e=>e.EntryId)))))}async ViewSelected(){return this.ViewItem(this.Table.SelectedRows),!0}Export(){f.Dialog.Show(s.html`<rn-license-required .message=${"This feature is only available in the full version"}></rn-license-required>`)}ViewItem(e,t=null){this.InitialScrollTop=window.scrollY,this.InitialScrollLeft=window.scrollX,this.UpdateURL();let i=rednaoFormDesigner.EntriesURL+"&EntryIds="+e.map((e=>e.EntryId));if(null!=t&&(t.shiftKey||t.ctrlKey))window.open(i);else{this.SelectedEntries=e;let t=this.FormList.find((t=>t.Id==e[0].FormId));this.SelectedForm=null==t?null:{Name:t.Name,FormBuilder:t.FormBuilder},this.EntryIds=e.map((e=>e.EntryId)),window.history.pushState({View:"SingleEntry"},document.title,i),this.Refresh()}}async DeleteItems(t){return this.tableIsBusy=!0,this.Refresh(),null!=await e.WpAjaxPost.Post("delete_entries",{Ids:t})&&(this.InternalSearch(),!0)}async Search(e=!0){0!=this.Form?(this.FormToUse=this.Form,this.StartDateToUse=this.StartDate,this.EndDateToUse=this.EndDate,e&&(this.PageIndex=0),this.IsBusy=!0,this.Refresh(),await this.InternalSearch(),this.IsBusy=!1,this.Refresh()):v.ToastService.SendErrorMessage("Form is mandatory")}async ActionClicked(e,t){let i=t.detail.Row;"View"==e&&(this.EntryToView=t.detail.Row,this.Refresh()),"Edit"!=e?"Delete"==e&&await y.DeleteDialog.Show("Deleting entry "+i.Sequence,"This operation is not reversible",(async()=>await this.DeleteItems([i.EntryId]))):f.Dialog.Show(s.html`<rn-license-required .message=${"This feature is only available in the full version"}></rn-license-required>`)}RecalculateSizes(){let e=window.document.getElementById("wpadminbar");null!=e&&(this.StickyOffset=e.getBoundingClientRect().height),e=window.document.getElementById("adminmenuback"),null!=e&&(this.StickyLeft=e.getBoundingClientRect().width),this.Refresh()}ApplyBulkAction(e){if(0!=this.Table.SelectedRows.length)switch(e){case"Delete":this.DeleteSelected();break;case"View":this.ViewSelected()}}ToggleAdvancedCondition(){f.Dialog.Show(s.html`<rn-license-required .message=${"This feature is only available in the full version"}></rn-license-required>`)}GenerateFields(e){e.GetFields(!1,!1,!1).forEach((e=>{e.Options.Type==c.FieldTypeEnum.Repeater&&0==e.Rows.length&&e.CreateRepeaterItem()}))}SetSelectedForm(e){this.Form=e,this.CurrentForm=this.FormList.find((t=>t.Id==e.toString())).FormBuilder,this.ColumnList=[],this.ColumnList.push(new N("Entry #",["FormattedSequence"],null).SetWidth("150px")),this.ColumnList.push(new M("Date",["UnixDate"],null)),this.ColumnList.push(new O("Status",["Status"],null)),this.CurrentForm.GetFields(!1,!1,!1).filter((e=>e.GetStoresInformation())).forEach((e=>{var t;null===(t=Ze.GetFormatterByField(e))||void 0===t||t.forEach((e=>this.ColumnList.push(e)))})),this.ColumnList.push(new N("Created By",["UserName"],null).SetWidth("200px"))}}class ot extends b.StoreBase{LoadDefaultValues(){}}e.WpAjaxPost.SetGlobalVar(rednaoFormDesigner),e.WpAjaxPost.DefaultHandleError=(e,i)=>{t.AlertDialog.Show(i,e,"Close","Error")},exports.EntriesLtModel=lt,exports.EntriesLtOptions=ot,exports.BasicStringColumn=N,exports.MultipleOptionsColumn=class extends C{Format(e){let t=this.GetValue(e);return null==t?null:s.html`<span>${t.map((e=>e.Label)).join(", ")}</span>`}},exports.ColumnFactory=Ze,exports.HTMLColumn=je,exports.FileManager=Pe,exports.ColumnBase=class{constructor(e,t=[],i=null){this.Title=e,this.Path=t,this.FieldOptions=i,this.IsNumeric=!1,this.Width="200px",this.Parent=null,this.ValueRetriever=null,this.Selected=!1}SetValueRetriever(e){return this.ValueRetriever=e,this}SetParent(e){return this.Parent=e,this}SetWidth(e){return this.Width=e,this}SetIsNumeric(){return this.IsNumeric=!0,this}IsEmpty(e){return""==this.GetValueString(e)}GetValue(e,t=null){if(null!=this.Parent&&null==(e=this.GetChildDataSource(e.Data)))return null;let i=e;if(null!=this.FieldOptions){if(null==i.Data||!Array.isArray(i.Data))return null;if(i=i.Data.find((e=>e.Id==this.FieldOptions.Id)),null==i||u.Sanitizer.GetStringValueFromPath(this.FieldOptions,["Type"])!=i.Type)return null}if(null!=this.ValueRetriever)return this.ValueRetriever(i);if(null==t&&(t=this.Path),null==t)return i;for(let e of t){if(null==i[e])return null;i=i[e]}return i}GetValueString(e,t=null,i=""){let n=this.GetValue(e,t);return null==n?i:n.toString()}GetNumericValue(e,t=null,i=0){let n=this.GetValue(e,t);return null==n?i:(n=Number(n),isNaN(n)?i:n)}GetChildDataSource(e){let t=this.Parent,i=[t.GetId()];for(;null!=t.FormBuilder&&null!=t.FormBuilder.GetId();)t=t.FormBuilder,i.unshift(t.GetId());for(let t of i){var n;if(null==(e=null===(n=e.find((e=>e.Id==t)))||void 0===n?void 0:n.Value))return null}return{Data:e}}}}));
