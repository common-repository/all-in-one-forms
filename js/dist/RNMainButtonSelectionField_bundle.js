rndefine("#RNMainButtonSelectionField",["#RNMainCore/EventManager","#RNMainFormBuilderCore/FieldBase.Options","#RNMainFormBuilderCore/MultipleOptionsBase","lit/decorators","lit","lit/directives/repeat.js","#RNMainLit/Lit","#RNMainFormBuilderCore/MultipleOptionsBase.Model","#RNMainFormBuilderCore/MultipleOptionsBase.Options","#RNMainCore/StoreBase","#RNMainFormBuilderCore/ItemOptions.Options","#RNMainFormBuilderCore/FormBuilder.Options"],(function(e,t,i,n,o,l,r,s,a,p,u,c){"use strict";var d;let m=n.customElement("rn-button-selection-field")(d=class extends i.MultipleOptionsBase{SubRender(){let e=parseInt(this.model.Options.NumberOfColumns.toString()),t=[],i="";if(0!=e){isNaN(e)&&(e=3),i=e>1?`calc(${100/e}% - 10px)`:"100%";let n=this.model.OptionItemsToUse.length%e;0!=n&&(n=e-n);for(let l=0;l<n;l++)t.push(o.html` <div style="width: ${e>1?`calc(${i}% - 10px)`:"100%"}"/>`)}else i=this.model.Options.ButtonWidth+"px";return o.html` <div class='buttonSelectionItemContainer ${0==this.model.Options.NumberOfColumns?"auto":""}'> ${l.repeat(this.model.OptionItemsToUse,(e=>e.Id),(e=>o.html` <div class="${"option_item buttonselectoritem "+(this.model.SelectedValues.some((t=>t==e.Id))?"rnSelected":"")}" style="display: flex;align-items: center;width:${i};flex-direction: ${this.GetItemDirection(e)}" @click=${t=>this.model.ToggleSelection(e.Id)}> ${this.GetImageControl(e)} ${this.GetLabelControl(e)} </div> `))} ${l.repeat(t,((e,t)=>t),(e=>o.html`${e}`))} </div> `}GetImageControl(e){return"icon"==e.Icon.ImageType?this.GetImageContainer(o.html` <div style="font-size: 80px;max-width: 80px;max-height: 80px;text-align: center;"> <rn-icon-displayer .formBuilder="${this.model.FormBuilder}" .icon=${e.Icon} style="display: block"/> </div>`):"image"==e.Icon.ImageType?this.GetImageContainer(o.html` <img style="width: 80px;height: 80px;" src=${e.Icon.Ref.URL} alt='Image not available'/> `):null}GetImageContainer(e){return o.html` <div style="width: 90px;height: 90px;display: flex;align-items: center;justify-content: center;" class='RNButtonSelectorImageContainer'> ${e} </div> `}GetLabelControl(e){return o.html` <div class="rnButtonSelectorLabelContainer"> <label class='rnOptionItem' style="cursor: pointer;margin: 0 2px 0 0;">${this.GetText(e,"Label")}</label> ${r.rnIf(this.model.Options.ShowPriceInEachButton&&o.html`<rnprice .amount=${parseFloat(e.RegularPrice)} style="display: block;margin-top: 1px;"></rnprice>`)} </div> `}GetItemDirection(e){switch(this.model.Options.ImagePosition){case"left":return"row";case"right":return"row-reverse";case"top":return"column";case"bottom":return"column-reverse"}}})||d;class h extends s.MultipleOptionsBaseModel{render(){return o.html` <rn-button-selection-field .model="${this}"></rn-button-selection-field> `}get AllowMultiple(){return this.Options.AllowMultipleSelection}}class g extends u.ItemOptions{LoadDefaultValues(){super.LoadDefaultValues(),this.Type="Button",this.Icon=(new c.IconOptions).Merge()}}var O,I,b;let B=(O=p.StoreDataType(g),I=class extends a.MultipleOptionsBaseOptions{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Options",b,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Label="Button Selection",this.Type=t.FieldTypeEnum.ButtonSelection,this.ButtonWidth=110,this.ImagePosition="left",this.AllowMultipleSelection=!1,this.NumberOfColumns=3,this.ShowPriceInEachButton=!0,this.Options=[(new g).Merge({Id:1,RegularPrice:"",Label:"Option 1"}),(new g).Merge({Id:2,RegularPrice:"",Label:"Option 2"}),(new g).Merge({Id:3,RegularPrice:"",Label:"Option 3"})]}},b=babelHelpers.applyDecoratedDescriptor(I.prototype,"Options",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I);e.EventManager.Subscribe("GetFieldOptions",(e=>{if(e==t.FieldTypeEnum.ButtonSelection)return new B})),e.EventManager.Subscribe("GetFieldModel",(e=>{if(e.Options.Type==t.FieldTypeEnum.ButtonSelection)return new h(e.Options,e.Parent)})),exports.ButtonSelectionField=m,exports.ButtonSelectionFieldModel=h,exports.ButtonSelectionFieldOptions=B,exports.ButtonItemOptions=g}));
